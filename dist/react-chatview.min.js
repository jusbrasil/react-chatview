!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactChatView=e(require("react"),require("react-dom")):t.ReactChatView=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(1),i=r(o),c=n(2),a=r(c),u=n(3),s=r(u),l=n(16),p=r(l),f=n(19),d=r(f),h=(0,d.default)({displayName:"ChatView",propTypes:{domNode:p.default.object,flipped:p.default.bool,scrollLoadThreshold:p.default.number,onInfiniteLoad:p.default.func,loadingSpinnerDelegate:p.default.element,className:p.default.string,enableAutoScroll:p.default.bool,style:p.default.object},getDefaultProps:function(){return{flipped:!1,scrollLoadThreshold:10,loadingSpinnerDelegate:i.default.createElement("div",null),className:"",enableAutoScroll:!0}},getInitialState:function(){return this.rafRequestId=null,this.scrollTop=0,this.scrollHeight=void 0,{isInfiniteLoading:!1}},componentWillUpdate:function(t,e){},render:function(){var t=(0,s.default)(this.props.children),e=i.default.createElement("div",{ref:"loadingSpinner"},this.state.isInfiniteLoading?this.props.loadingSpinnerDelegate:null);return i.default.createElement("div",{className:this.props.className,ref:"scrollable",style:this.props.style},i.default.createElement("div",{ref:"smoothScrollingWrapper"},this.props.flipped?e:null,t,this.props.flipped?null:e))},pollScroll:function(){var t=this,e=this.props.domNode||a.default.findDOMNode(this);if(e.scrollTop!==this.scrollTop){if(this.shouldTriggerLoad(e)&&this.props.onInfiniteLoad){this.setState({isInfiniteLoading:!0});var n=this.props.onInfiniteLoad();n.then(function(){return t.setState({isInfiniteLoading:!1})})}this.updateScrollTop(e.scrollHeight!==this.scrollHeight)}else e.scrollHeight!==this.scrollHeight&&this.updateScrollTop();this.rafRequestId=window.requestAnimationFrame(this.pollScroll)},isPassedThreshold:function(t,e,n,r,o){return t?n<=e:n>=r-o-e},shouldTriggerLoad:function(t){var e=this.isPassedThreshold(this.props.flipped,this.props.scrollLoadThreshold,t.scrollTop,t.scrollHeight,t.clientHeight);return e&&!this.state.isInfiniteLoading},componentDidMount:function(){if(this.props.enableAutoScroll){var t=this.props.domNode||a.default.findDOMNode(this),e=this.props.flipped?t.scrollHeight-t.clientHeight:0;t.scrollTop=e,this.scrollTop=e}this.rafRequestId=window.requestAnimationFrame(this.pollScroll)},componentWillUnmount:function(){window.cancelAnimationFrame(this.rafRequestId)},componentDidUpdate:function(t,e){this.updateScrollTop()},updateScrollTop:function(){if(this.props.enableAutoScroll){var t=this.props.domNode||a.default.findDOMNode(this),e=t.scrollTop+(this.props.flipped?t.scrollHeight-(this.scrollHeight||0):0);e!==t.scrollTop&&(t.scrollTop=e),this.scrollTop=t.scrollTop,this.scrollHeight=t.scrollHeight}}});t.exports=h},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){function r(t,e,n,r){return e&&"boolean"!=typeof e&&c(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?o(t,e,i(n,r,3)):o(t,e)}var o=n(4),i=n(14),c=n(15);t.exports=r},function(t,e,n){(function(e){function r(t,e,n,i,d,y,b){var g;if(n&&(g=d?n(t,i,d):n(t)),void 0!==g)return g;if(!s(t))return t;var v=h(t);if(v){if(g=c(t),!e)return l(t,g)}else{var E=H.call(t),N=E==j;if(E!=D&&E!=m&&(!N||d))return k[E]?u(t,E,e):d?t:{};if(g=a(N?{}:t),!e)return f(g,t)}y||(y=[]),b||(b=[]);for(var x=y.length;x--;)if(y[x]==t)return b[x];return y.push(t),b.push(g),(v?p:o)(t,function(o,i){g[i]=r(o,e,n,i,t,y,b)}),g}function o(t,e){return d(t,e,y)}function i(t){var e=new $(t.byteLength),n=new B(e);return n.set(new B(t)),e}function c(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&q.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function a(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function u(t,e,n){var r=t.constructor;switch(e){case O:return i(t);case g:case v:return new r(+t);case M:case T:case P:case S:case F:case R:case C:case Y:case U:var o=t.buffer;return new r(n?i(o):o,t.byteOffset,t.length);case x:case A:return new r(t);case I:var c=new r(t.source,L.exec(t));c.lastIndex=t.lastIndex}return c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=n(5),p=n(6),f=n(7),d=n(13),h=n(12),y=n(9),m="[object Arguments]",b="[object Array]",g="[object Boolean]",v="[object Date]",E="[object Error]",j="[object Function]",N="[object Map]",x="[object Number]",D="[object Object]",I="[object RegExp]",_="[object Set]",A="[object String]",w="[object WeakMap]",O="[object ArrayBuffer]",M="[object Float32Array]",T="[object Float64Array]",P="[object Int8Array]",S="[object Int16Array]",F="[object Int32Array]",R="[object Uint8Array]",C="[object Uint8ClampedArray]",Y="[object Uint16Array]",U="[object Uint32Array]",L=/\w*$/,k={};k[m]=k[b]=k[O]=k[g]=k[v]=k[M]=k[T]=k[P]=k[S]=k[F]=k[x]=k[D]=k[I]=k[A]=k[R]=k[C]=k[Y]=k[U]=!0,k[E]=k[j]=k[N]=k[_]=k[w]=!1;var W=Object.prototype,q=W.hasOwnProperty,H=W.toString,$=e.ArrayBuffer,B=e.Uint8Array;t.exports=r}).call(e,function(){return this}())},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){function r(t,e){return null==e?t:o(e,i(e),t)}var o=n(8),i=n(9);t.exports=r},function(t,e){function n(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}t.exports=n},function(t,e,n){function r(t){return function(e){return null==e?void 0:e[t]}}function o(t){return null!=t&&c(g(t))}function i(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?b:e,t>-1&&t%1==0&&t<e}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=b}function a(t){for(var e=s(t),n=e.length,r=n&&t.length,o=!!r&&c(r)&&(f(t)||p(t)),a=-1,u=[];++a<n;){var l=e[a];(o&&i(l,r)||y.call(t,l))&&u.push(l)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&c(e)&&(f(t)||p(t))&&e||0;for(var n=t.constructor,r=-1,o="function"==typeof n&&n.prototype===t,a=Array(e),s=e>0;++r<e;)a[r]=r+"";for(var l in t)s&&i(l,e)||"constructor"==l&&(o||!y.call(t,l))||a.push(l);return a}var l=n(10),p=n(11),f=n(12),d=/^\d+$/,h=Object.prototype,y=h.hasOwnProperty,m=l(Object,"keys"),b=9007199254740991,g=r("length"),v=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&o(t)?a(t):u(t)?m(t):[]}:a;t.exports=v},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return c(n)?n:void 0}function o(t){return i(t)&&f.call(t)==a}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){return null!=t&&(o(t)?d.test(l.call(t)):n(t)&&u.test(t))}var a="[object Function]",u=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,p=s.hasOwnProperty,f=s.toString,d=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e){function n(t){return o(t)&&h.call(t,"callee")&&(!m.call(t,"callee")||y.call(t)==l)}function r(t){return null!=t&&c(t.length)&&!i(t)}function o(t){return u(t)&&r(t)}function i(t){var e=a(t)?y.call(t):"";return e==p||e==f}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}var s=9007199254740991,l="[object Arguments]",p="[object Function]",f="[object GeneratorFunction]",d=Object.prototype,h=d.hasOwnProperty,y=d.toString,m=d.propertyIsEnumerable;t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=b}function i(t){return c(t)&&h.call(t)==s}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(i(t)?y.test(f.call(t)):n(t)&&l.test(t))}var u="[object Array]",s="[object Function]",l=/^\[object .+?Constructor\]$/,p=Object.prototype,f=Function.prototype.toString,d=p.hasOwnProperty,h=p.toString,y=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),b=9007199254740991,g=m||function(t){return n(t)&&o(t.length)&&h.call(t)==u};t.exports=g},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),c=r(e),a=c.length;a--;){var u=c[t?a:++o];if(n(i[u],u,i)===!1)break}return e}}var r=n();t.exports=r},function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,c){return t.call(e,n,r,o,i,c)}}return function(){return t.apply(e,arguments)}}function r(t){return t}t.exports=n},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&c(l(t))}function o(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?s:e,t>-1&&t%1==0&&t<e}function i(t,e,n){if(!a(n))return!1;var i=typeof e;if("number"==i?r(n)&&o(e,n.length):"string"==i&&e in n){var c=n[e];return t===t?t===c:c!==c}return!1}function c(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,s=9007199254740991,l=n("length");t.exports=i},function(t,e,n){t.exports=n(17)()},function(t,e,n){"use strict";function r(){}var o=n(18);t.exports=function(){function t(t,e,n,r,i,c){if(c!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},function(t,e,n){"use strict";var r=n(1),o=n(20);if("undefined"==typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;t.exports=o(r.Component,r.isValidElement,i)},function(t,e,n){"use strict";function r(t){return t}function o(t,e,n){function o(t,e){var n=g.hasOwnProperty(e)?g[e]:null;x.hasOwnProperty(e)&&u("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&u("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function i(t,n){if(n){u("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),u(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(s)&&E.mixins(t,n.mixins);for(var c in n)if(n.hasOwnProperty(c)&&c!==s){var a=n[c],l=r.hasOwnProperty(c);if(o(l,c),E.hasOwnProperty(c))E[c](t,a);else{var p=g.hasOwnProperty(c),h="function"==typeof a,y=h&&!p&&!l&&n.autobind!==!1;if(y)i.push(c,a),r[c]=a;else if(l){var m=g[c];u(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,c),"DEFINE_MANY_MERGED"===m?r[c]=f(r[c],a):"DEFINE_MANY"===m&&(r[c]=d(r[c],a))}else r[c]=a}}}else;}function l(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var o=n in E;u(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in t;if(i){var c=v.hasOwnProperty(n)?v[n]:null;return u("DEFINE_MANY_MERGED"===c,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=f(t[n],r))}t[n]=r}}}function p(t,e){u(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(u(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function f(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return p(o,n),p(o,r),o}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function h(t,e){var n=e.bind(t);return n}function y(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];t[r]=h(t,o)}}function m(t){var e=r(function(t,r,o){this.__reactAutoBindPairs.length&&y(this),this.props=t,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;u("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=i});e.prototype=new D,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],b.forEach(i.bind(null,e)),i(e,j),i(e,t),i(e,N),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),u(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in g)e.prototype[o]||(e.prototype[o]=null);return e}var b=[],g={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},v={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},E={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=c({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=c({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=f(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=c({},t.propTypes,e)},statics:function(t,e){l(t,e)},autobind:function(){}},j={componentDidMount:function(){this.__isMounted=!0}},N={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},D=function(){};return c(D.prototype,t.prototype,x),m}var i,c=n(21),a=n(22),u=n(23),s="mixins";i={},t.exports=o},function(t,e){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(t,e){for(var r,a,u=n(t),s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var l in r)i.call(r,l)&&(u[l]=r[l]);if(o){a=o(r);for(var p=0;p<a.length;p++)c.call(r,a[p])&&(u[a[p]]=r[a[p]])}}return u}},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,i,c,a,u){if(o(e),!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,c,a,u],p=0;s=new Error(e.replace(/%s/g,function(){return l[p++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var o=function(t){};t.exports=r}])});